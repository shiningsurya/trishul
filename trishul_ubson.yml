# Trishul BSON schema

fbson:
  - sn
  - dm               # pc/cc
  - width            # s
  - time:
    - peak_time      # s
    - tpeak          # s
    - tstart         # MJD
    - tsamp          # s
    - duration       # s
  - frequency:
    - fch1           # MHz
    - foff           # MHz (+)
    - nchans
  - indices:
    - i0             # epoch float64
    - i1             # epoch float64
    - epoch          # Observation start epoch
    - nsamps         # sizeof(data)
  - parameters:
    - nbits
    - antenna
    - source_name
    - ra
    - dec
    - group
  # zero level
  - data:
    - fb             # packed filterbank

dbson:
  - sn
  - dm               # pc/cc
  - width            # s
  - time:
    - peak_time      # s
    - tstart         # MJD
    - tsamp          # s
    - duration       # 0.2s?
    - ddnsamps       # de-dispersed filterbank nsamps 256?
  - frequency:
    - fch1           # MHz
    - foff           # MHz (+)
    - nchans         # 64?
  - indices:
    - i0             # epoch float64
    - i1             # epoch float64
    - epoch          # Observation start epoch
  - parameters:
    - nbits
    - antenna        # station-id
    - source_name    # str
    - ra             # radians
    - dec            # radians
    - group
  - dms:
    - dm1            # start DM pc/cc
    - dmoff          # DM offset pc/cc (100/256)?
    - ndm            # 256?
    - btnsamps       # bowtie plane nsamps 256?
  # zero level
  - data:             
    - dd             # packed dedispersed filterbank
    - bt             # packed bowtie plane 
